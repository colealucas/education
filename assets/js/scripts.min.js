document.addEventListener("DOMContentLoaded",function(){let n=education_theme_localized&&education_theme_localized.lang?education_theme_localized.lang:"ro",l={ro:{bravo:"Bravo",continue:"Continuă",wordsToFind:"cuvinte de găsit",wordsFound:"cuvinte descoperite"},ru:{bravo:"Браво",continue:"Продолжить",wordsToFind:"слов для поиска",wordsFound:"найденных слова"}};function c(t){let e="";return e=t&&l[n][t]?l[n][t]:e}t=document.querySelectorAll('[class*="wp-image-"]'),console.log(t),t.length&&t.forEach(function(t){t=t.parentNode;"a"===t.nodeName.toLowerCase()&&t.setAttribute("theme-fancybox","")}),Fancybox.bind("[data-fancybox]",{backdropClick:!1,closeButton:!0,closeExisting:!0,dragToClose:!1,mainClass:"regular-lightbox"}),Fancybox.bind("[theme-fancybox]",{backdropClick:!0,closeButton:!0,closeExisting:!1,dragToClose:!1,mainClass:"image-lightbox"}),document.querySelector("#print-button")&&document.querySelector("#print-button").addEventListener("click",function(){window.print()}),window.location.hash&&(window.scrollTo(0,0),setTimeout(function(){var t=window.location.hash.substring(1),t=document.getElementById(t);t&&(t=t.getBoundingClientRect().top+window.scrollY,window.scrollTo({top:t-80,behavior:"smooth"}))},0));var t=document.querySelectorAll('a[href^="#"]:not([href="#"]):not(.ignore)');if(t.length)t.forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();var t=document.querySelector(this.getAttribute("href"));t&&(t=t.getBoundingClientRect().top+window.scrollY,window.scrollTo({top:t-80,behavior:"smooth"}))})});(t=document.querySelectorAll("[data-toggle-active]"))&&t.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();t=this.getAttribute("data-toggle-active")?this.getAttribute("data-toggle-active"):null,t=t?document.querySelector(t):null;this.classList.toggle("active"),t&&t.classList.toggle("active")})}),document.querySelectorAll("[data-notion-title]").forEach(e=>{e.addEventListener("click",()=>{var t=e.nextElementSibling;e.parentNode.classList.toggle("open"),e.classList.contains("open")?(t.style.display="none",e.classList.remove("open")):(t.style.display="block",e.classList.add("open"))})});{let l=document.querySelectorAll("[data-voc-filter-link]");l.length&&l.forEach(function(e){e.onclick=function(t){t.preventDefault(),l.forEach(function(t){t!==e&&t.classList.remove("active")}),e.classList.toggle("active");{var t=document.querySelectorAll("[data-voc-filter-link]"),n=document.querySelectorAll("[data-notion-box]");let e=null;t.length&&(t.forEach(function(t){t.classList.contains("active")&&t.getAttribute("data-voc-letter")&&t.getAttribute("data-voc-letter").length&&(e=t.getAttribute("data-voc-letter").trim().toLowerCase())}),n.length)&&n.forEach(function(t){!1===(t.getAttribute("data-filter-letter")&&t.getAttribute("data-filter-letter")===e)?t.classList.add("hide"):t.classList.remove("hide")}),e||n.length&&n.forEach(function(t){t.classList.remove("hide")})}}})}function d(t){t=t||c("bravo")+"!";var e=c("continue");new Fancybox([{src:`<div class="py-40px px-24px rounded-24px min-w-[450px] flex flex-col gap-12px text-center">
                        <div>
                            <svg width="80px" height="80px" class="inline-block" viewBox="0 0 64 64" data-name="Layer 1" id="Layer_1" xmlns="http://www.w3.org/2000/svg">
                                <defs><style>.cls-1{fill:#00665E;}.cls-2{fill:#ffb300;}</style></defs><title/>
                                <path class="cls-1" d="M41.78,57.13a7.12,7.12,0,0,1-4.2-1.39l-4.32-3.16a3.12,3.12,0,0,0-3.7,0l-4.32,3.16a7.14,7.14,0,0,1-11.31-6.53l.58-5.32a3.11,3.11,0,0,0-1.85-3.2L7.77,38.53a7.13,7.13,0,0,1,0-13.06l4.89-2.16a3.11,3.11,0,0,0,1.85-3.2l-.58-5.32A7.14,7.14,0,0,1,25.24,8.26l4.32,3.16a3.12,3.12,0,0,0,3.7,0l4.32-3.16A7,7,0,0,1,43,7a7.25,7.25,0,0,1,4.75,3.13,2,2,0,1,1-3.34,2.2,3.23,3.23,0,0,0-2.12-1.39,3,3,0,0,0-2.37.57l-4.32,3.16a7.13,7.13,0,0,1-8.43,0l-4.31-3.16a3.13,3.13,0,0,0-5,2.87l.58,5.31A7.11,7.11,0,0,1,14.28,27l-4.9,2.16a3.14,3.14,0,0,0,0,5.74L14.28,37a7.11,7.11,0,0,1,4.21,7.3l-.58,5.31a3.13,3.13,0,0,0,5,2.87l4.31-3.16a7.13,7.13,0,0,1,8.43,0l4.32,3.16a3.13,3.13,0,0,0,5-2.87l-.58-5.31A7.1,7.1,0,0,1,48.54,37l4.9-2.16a3.14,3.14,0,0,0,0-5.74L50.78,28a2,2,0,1,1,1.61-3.66l2.66,1.17a7.13,7.13,0,0,1,0,13.06l-4.89,2.16a3.13,3.13,0,0,0-1.86,3.2l.58,5.32a7,7,0,0,1-3.52,6.95A7.17,7.17,0,0,1,41.78,57.13Z"/><path class="cls-2" d="M31.64,39a2,2,0,0,1-1.42-.59l-8.61-8.61A2,2,0,1,1,24.44,27l7.2,7.2L57.08,8.72a2,2,0,0,1,2.82,2.83L33.05,38.4A2,2,0,0,1,31.64,39Z"/>
                            </svg>
                        </div>
                        <div class="text-24px font-600 my-8px leading-130">${t}</div>
                        <div><a href="#" class="btn min-w-[200px]" data-fancybox-close>${e}</a></div>
                    </div>`,type:"html"}],{backdropClick:!1,closeButton:!0,closeExisting:!1,dragToClose:!0,autoFocus:!1})}function o(t){t.dataTransfer.setData("text/plain",t.target.dataset.word)}function a(t){t.preventDefault()}function r(t){var e,n,l;t.target.classList.contains("correct")||(l=n=null,(e=t.dataTransfer.getData("text/plain"))===t.target.dataset.word?(t.target.classList.add("correct"),t.target.classList.remove("incorrect"),t.target.innerText=e,(e=document.querySelector(`.word[data-word="${e}"]`))&&e.remove()):t.target.classList.contains("correct")||(t.target.classList.add("incorrect"),t.target.classList.remove("correct")),t.target&&t.target.classList.contains("placeholder")&&((l=(n=t.target.closest(".match-definitions-wrap"))?n.querySelector(".words"):null)?l.querySelectorAll(".word").length<1&&(l.classList.add("hide"),d()):console.warn("cant find words..")))}(t=document.querySelectorAll(".check-paragraphs")).length&&t.forEach(function(t){t&&(t=t.querySelectorAll("p")).length&&(t.forEach(function(t){var e;t.textContent.trim().length&&((e=document.createElement("span")).classList.add("paragraph-check-options"),e.innerHTML=`<span class="known">
                                    <svg width="18px" height="18px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4 12.6111L8.92308 17.5L20 6.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </span>

                                <span class="new">+</span>`,t.prepend(e))}),(t=document.querySelectorAll(".paragraph-check-options")).length)&&t.forEach(function(t){let e=t.querySelector(".known"),n=t.querySelector(".new");e&&n?(e.addEventListener("click",function(){n.classList.remove("active"),e.classList.add("active")}),n.addEventListener("click",function(){e.classList.remove("active"),n.classList.add("active")})):console.warn("Missing checkmark options!")})}),(t=document.querySelectorAll(".match-definitions-wrap")).length&&t.forEach(t=>{var e=t.querySelectorAll(".word"),t=t.querySelectorAll(".placeholder");e.forEach(t=>{t.addEventListener("dragstart",o)}),t.forEach(t=>{t.addEventListener("dragover",a),t.addEventListener("drop",r)})}),(t=document.querySelectorAll(".square-table-game")).length&&t.forEach(function(t){var e=t.getAttribute("data-words");let o=t.querySelector(".found-words"),a=t.querySelector(".game-status");t=t.querySelectorAll(".letter");let l=[],r=[];e=JSON.parse(e);if(!e||!e.length)return console.warn("Words table game missing words!"),!1;let s=e,i=[];s.length&&a&&(a.innerHTML=`<p class="text-center w-full">${s.length} ${c("wordsToFind")}</p>`),t.forEach((t,e)=>{t.addEventListener("click",function(){var t=r.indexOf(this);-1===t?(this.classList.add("selected"),l.push(this.dataset.letter.toLowerCase()),r.push(this)):(this.classList.remove("selected"),l.splice(t,1),r.splice(t,1));{let e=l.join(""),t=r.every((t,e,n)=>t.getAttribute("data-row")===n[0].getAttribute("data-row")),n=r.every((t,e,n)=>t.getAttribute("data-column")===n[0].getAttribute("data-column"));(t||n)&&s.forEach(t=>{if(function(t,e){if(t.length!==e.length)return;let n=t=>t.split("").reduce((t,e)=>(t[e]=(t[e]||0)+1,t),{}),l=n(t),o=n(e);return Object.keys(o).every(t=>o[t]===l[t])}(e,t.replace(/\s+/g,""))){if(r.forEach(t=>{t.classList.remove("selected"),t.classList.add("found")}),o)if(i.push(t),i.length>=s.length&&d(c("bravo")),i.length){let n=0,l=1;o.innerHTML="",i.forEach(function(t,e){e%4==0&&((e=document.createElement("ol")).setAttribute("start",l),e.classList.add("found-words-list"),o.appendChild(e));e=document.createElement("li");e.textContent=t,o.lastChild.appendChild(e),n++,l=n+1}),a&&(a.innerHTML=`<p class="text-center w-full">${i.length} / ${s.length} ${c("wordsFound")}</p>`)}else o.innerHTML="";l=[],r=[]}})}})})}),(t=document.querySelectorAll(".match-arrows-game")).length&&t.forEach(function(i){var t=i.querySelectorAll(".ma-item-left"),e=i.querySelectorAll(".ma-item-right");let n=t.length,l=0,o=null,a=null,r=!1;function s(t,e,n){let l=i.querySelector(".ma-arrows");var t=t.getBoundingClientRect(),e=e.getBoundingClientRect(),o=i.querySelector(".ma-container").getBoundingClientRect(),a=t.right-o.left,t=t.top+t.height/2-o.top,r=e.left-o.left,e=e.top+e.height/2-o.top;let s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",a),s.setAttribute("y1",t),s.setAttribute("x2",r),s.setAttribute("y2",e),s.setAttribute("marker-end","url(#arrowhead)"),s.setAttribute("style","stroke: #808285; stroke-width: 2;"),l.appendChild(s),o=i.querySelector(".ma-arrows"),(a=document.createElementNS("http://www.w3.org/2000/svg","marker")).setAttribute("id","arrowhead"),a.setAttribute("markerWidth","10"),a.setAttribute("markerHeight","7"),a.setAttribute("refX","10"),a.setAttribute("refY","3.5"),a.setAttribute("orient","auto"),a.setAttribute("markerUnits","strokeWidth"),(t=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d","M0,0 L10,3.5 L0,7 Z"),t.setAttribute("style","fill: #808285;"),a.appendChild(t),o.appendChild(a),n||setTimeout(()=>{l.removeChild(s)},650)}t.length&&t.forEach(function(t){t.onclick=function(t){t.preventDefault(),o||((o=this).classList.contains("connected")?o=null:o.classList.add("selected"))}}),e.length&&e.forEach(function(t){t.onclick=function(t){t.preventDefault(),a=this,o=(o&&!o.classList.contains("connected")&&(!function(t,e){if(t&&e)return t.dataset.id===e.dataset.id}(o,a)?(r=!1,o.classList.remove("connected"),o.classList.remove("selected"),s(o,a,!1),a.classList.add("error"),setTimeout(()=>{a.classList.remove("error"),a=null},650)):(r=!0,o.classList.add("connected"),o.classList.remove("selected"),s(o,a,!0),a.classList.add("success"),++l>=n&&d(c("bravo")))),null)}})})});